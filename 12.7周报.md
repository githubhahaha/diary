# 12.7 周报

1. 经过了两天的努力，终于找到了 IAP 升级失败的 bug，原因还是在于网络传输和接受时的文件校验问题，接下来打算在 STM32 端加入升级文件的校验操作，对升级文件进行校验之后再进行升级，如果校验不过则丢弃。
2. 在原本的 IAP 功能上加入了板子请求升级的功能，这样设备就可以主动请求升级了，还优化了一下网络传输的粘包问题，保证网络传输过程中不会出现数据错误的情况。
3. 刘鑫在做GPS定位的功能，我给了他两周的时间来学习，现在他应该做的差不多了，下周打算把定位功能整合到框架中，利用定位来判断仪器是否可以开机。
4. 因为之前 IAP 一直没有成功，我怀疑是网络和编码的问题，我就复习了一下网络TCP和字符的编码问题，虽然最终发现不是这两个问题，但还是收获很大，由于这周我讲了组会，我简单介绍了一下我在做的在线升级，顺便把网络也讲了一下，我觉得还是挺有用的。
5. 下周开始着手开发电机控制部分的功能，之前觉得IAP在线升级比较有意思就先做了在线升级，看公司那边好像对于电机控制比较着急，所以之后就先开始开发电机部分。但是这一个部分我还没想好用什么设备来做实验，打算利用 LED 灯亮灭来模拟脉冲的高低，这部分还需要查阅资料学习，之前没有接触过。

## 下周工作

1. 学习利用脉冲进行电机控制。
2. 整合GPS功能
3. 复习功课